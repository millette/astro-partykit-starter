---
import { Party } from "../../components/Party";
import { Modal } from "../../components/Modal";
import Layout from "../../layouts/Layout.astro";

const usernameParams = Astro.url.searchParams.get("username");
const username = !usernameParams ? "anonymous" : usernameParams;
const roomIdParams = Astro.url.searchParams.get("roomId");
const roomId = !roomIdParams ? "astro-partykit-room" : roomIdParams;
---

<Layout title="React & Astro Partykit Room">
  <main>
    <div class="grid place-content-center">
      <h1 class="text-center">Astro 🚀 🤝 Partykit 🎈</h1>
      <Party username={username} roomId={roomId} client:load />

      <Modal username={username} roomId={roomId} client:load />
    </div>
  </main>
</Layout>
